# ğŸ’° Expense Management Application

á»¨ng dá»¥ng quáº£n lÃ½ chi tiÃªu cÃ¡ nhÃ¢n toÃ n diá»‡n vá»›i AI há»— trá»£, giÃºp báº¡n theo dÃµi thu chi, láº­p ngÃ¢n sÃ¡ch, vÃ  Ä‘áº¡t Ä‘Æ°á»£c má»¥c tiÃªu tÃ i chÃ­nh.

![Next.js](https://img.shields.io/badge/Next.js-16.0-black?style=flat&logo=next.js)
![React](https://img.shields.io/badge/React-19.2-61DAFB?style=flat&logo=react)
![Node.js](https://img.shields.io/badge/Node.js-18+-339933?style=flat&logo=node.js)
![MongoDB](https://img.shields.io/badge/MongoDB-7.0+-47A248?style=flat&logo=mongodb)
![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6?style=flat&logo=typescript)

## ğŸ“‹ Má»¥c Lá»¥c

- [TÃ­nh NÄƒng](#-tÃ­nh-nÄƒng)
- [CÃ´ng Nghá»‡](#-cÃ´ng-nghá»‡)
- [YÃªu Cáº§u Há»‡ Thá»‘ng](#-yÃªu-cáº§u-há»‡-thá»‘ng)
- [CÃ i Äáº·t](#-cÃ i-Ä‘áº·t)
- [Cáº¥u HÃ¬nh](#-cáº¥u-hÃ¬nh)
- [Sá»­ Dá»¥ng](#-sá»­-dá»¥ng)
- [Cáº¥u TrÃºc ThÆ° Má»¥c](#-cáº¥u-trÃºc-thÆ°-má»¥c)
- [TÃ i Liá»‡u Bá»• Sung](#-tÃ i-liá»‡u-bá»•-sung)
- [ÄÃ³ng GÃ³p](#-Ä‘Ã³ng-gÃ³p)

## âœ¨ TÃ­nh NÄƒng

### ğŸ¯ Quáº£n LÃ½ TÃ i ChÃ­nh CÆ¡ Báº£n
- âœ… **Ghi chÃº thu chi**: ThÃªm, sá»­a, xÃ³a cÃ¡c giao dá»‹ch thu/chi
- ğŸ“Š **Dashboard trá»±c quan**: Biá»ƒu Ä‘á»“ thá»‘ng kÃª chi tiÃªu theo thá»i gian vÃ  danh má»¥c
- ğŸ·ï¸ **PhÃ¢n loáº¡i tÃ¹y chá»‰nh**: Táº¡o vÃ  quáº£n lÃ½ danh má»¥c chi tiÃªu riÃªng
- ğŸ“… **Lá»c theo thá»i gian**: Xem chi tiÃªu theo ngÃ y, tuáº§n, thÃ¡ng, nÄƒm

### ğŸ’¼ Quáº£n LÃ½ NgÃ¢n SÃ¡ch
- ğŸ’µ **Láº­p ngÃ¢n sÃ¡ch**: Äáº·t giá»›i háº¡n chi tiÃªu cho tá»«ng danh má»¥c
- âš ï¸ **Cáº£nh bÃ¡o thÃ´ng minh**: Nháº­n thÃ´ng bÃ¡o khi vÆ°á»£t ngÆ°á»¡ng ngÃ¢n sÃ¡ch
- ğŸ“ˆ **Theo dÃµi tiáº¿n Ä‘á»™**: Xem tá»· lá»‡ sá»­ dá»¥ng ngÃ¢n sÃ¡ch theo thá»i gian thá»±c

### ğŸ¯ Má»¥c TiÃªu Tiáº¿t Kiá»‡m
- ğŸ–ï¸ **Äáº·t má»¥c tiÃªu**: Táº¡o cÃ¡c má»¥c tiÃªu tiáº¿t kiá»‡m vá»›i deadline
- ğŸ“Š **Theo dÃµi tiáº¿n Ä‘á»™**: Cáº­p nháº­t sá»‘ tiá»n Ä‘Ã£ tiáº¿t kiá»‡m Ä‘Æ°á»£c
- ğŸ† **Quáº£n lÃ½ Æ°u tiÃªn**: PhÃ¢n loáº¡i má»¥c tiÃªu theo Ä‘á»™ Æ°u tiÃªn

### ğŸ”„ Giao Dá»‹ch Äá»‹nh Ká»³
- ğŸ” **Tá»± Ä‘á»™ng hÃ³a**: Thiáº¿t láº­p cÃ¡c khoáº£n chi phÃ­ Ä‘á»‹nh ká»³ (hÃ ng ngÃ y/tuáº§n/thÃ¡ng/nÄƒm)
- ğŸ“… **LÃªn lá»‹ch tá»± Ä‘á»™ng**: Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o giao dá»‹ch theo lá»‹ch
- ğŸ”” **Nháº¯c nhá»Ÿ**: ThÃ´ng bÃ¡o trÆ°á»›c khi Ä‘áº¿n háº¡n thanh toÃ¡n

### ğŸ“Š BÃ¡o CÃ¡o & PhÃ¢n TÃ­ch
- ğŸ“„ **BÃ¡o cÃ¡o chi tiáº¿t**: Táº¡o bÃ¡o cÃ¡o theo ngÃ y/tuáº§n/thÃ¡ng/nÄƒm
- ğŸ“¥ **Xuáº¥t PDF**: Download bÃ¡o cÃ¡o dÆ°á»›i dáº¡ng PDF
- ğŸ“ˆ **Biá»ƒu Ä‘á»“ trá»±c quan**: PhÃ¢n tÃ­ch chi tiÃªu theo danh má»¥c vÃ  xu hÆ°á»›ng

### ğŸ¤– AI Assistant
- ğŸ§  **PhÃ¢n loáº¡i thÃ´ng minh**: AI tá»± Ä‘á»™ng gá»£i Ã½ danh má»¥c cho giao dá»‹ch
- ğŸ”® **Dá»± Ä‘oÃ¡n chi tiÃªu**: Dá»± bÃ¡o chi phÃ­ thÃ¡ng tá»›i dá»±a trÃªn lá»‹ch sá»­
- ğŸ’¡ **Gá»£i Ã½ tiáº¿t kiá»‡m**: AI phÃ¢n tÃ­ch vÃ  Ä‘Æ°a ra lá»i khuyÃªn tiáº¿t kiá»‡m
- ğŸ“Š **Insights thÃ´ng minh**: PhÃ¡t hiá»‡n thÃ³i quen chi tiÃªu vÃ  Ä‘Æ°a ra nháº­n xÃ©t

### ğŸ‘¥ Quáº£n LÃ½ NgÆ°á»i DÃ¹ng (Admin)
- ğŸ‘¨â€ğŸ’¼ **Admin Dashboard**: Quáº£n lÃ½ táº¥t cáº£ ngÆ°á»i dÃ¹ng
- ğŸ—‘ï¸ **Cascade Delete**: XÃ³a ngÆ°á»i dÃ¹ng cÃ¹ng toÃ n bá»™ dá»¯ liá»‡u liÃªn quan
- ğŸ“Š **Thá»‘ng kÃª tá»•ng quan**: Xem sá»‘ liá»‡u toÃ n há»‡ thá»‘ng

### âš™ï¸ CÃ i Äáº·t CÃ¡ NhÃ¢n HÃ³a
- ğŸŒ **Äa ngÃ´n ngá»¯**: Tiáº¿ng Viá»‡t / English
- ğŸŒ“ **Theme tÃ¹y chá»‰nh**: Light / Dark / System
- ğŸ’± **ÄÆ¡n vá»‹ tiá»n tá»‡**: VND, USD, EUR, v.v.
- ğŸ–¼ï¸ **Avatar cÃ¡ nhÃ¢n**: Upload vÃ  quáº£n lÃ½ áº£nh Ä‘áº¡i diá»‡n
- ğŸ”” **TÃ¹y chá»n thÃ´ng bÃ¡o**: Báº­t/táº¯t cÃ¡c loáº¡i thÃ´ng bÃ¡o

## ğŸ›  CÃ´ng Nghá»‡

### Frontend
- **Framework**: [Next.js 16](https://nextjs.org/) vá»›i App Router
- **UI Library**: [React 19](https://react.dev/)
- **Styling**: [Tailwind CSS 4](https://tailwindcss.com/)
- **Component Library**: [Radix UI](https://www.radix-ui.com/)
- **Charts**: [Recharts](https://recharts.org/)
- **Form Handling**: React Hook Form + Zod
- **HTTP Client**: Axios
- **PDF Generation**: jsPDF + html2canvas

### Backend
- **Runtime**: [Node.js](https://nodejs.org/)
- **Framework**: [Express.js](https://expressjs.com/)
- **Database**: [MongoDB](https://www.mongodb.com/) vá»›i Mongoose
- **Authentication**: JWT (JSON Web Tokens)
- **Password Hashing**: bcryptjs
- **AI Integration**: Google Gemini API
- **File Upload**: Multer
- **Scheduled Jobs**: node-cron

## ğŸ“¦ YÃªu Cáº§u Há»‡ Thá»‘ng

- **Node.js**: v18.0 trá»Ÿ lÃªn
- **npm**: v9.0 trá»Ÿ lÃªn
- **MongoDB**: v7.0 trá»Ÿ lÃªn (hoáº·c MongoDB Atlas)
- **Git**: Äá»ƒ clone repository

## ğŸš€ CÃ i Äáº·t

### 1. Clone Repository

```bash
git clone <repository-url>
cd expense-management-app
```

### 2. CÃ i Äáº·t Frontend

```bash
# CÃ i Ä‘áº·t dependencies cho frontend
npm install
```

### 3. CÃ i Äáº·t Backend

```bash
# Di chuyá»ƒn vÃ o thÆ° má»¥c backend
cd backend

# CÃ i Ä‘áº·t dependencies cho backend
npm install
```

### 4. Quay láº¡i thÆ° má»¥c gá»‘c

```bash
cd ..
```

## âš™ï¸ Cáº¥u HÃ¬nh

### Backend Configuration

Táº¡o file `.env` trong thÆ° má»¥c `backend/` vá»›i ná»™i dung:

```env
# Server Configuration
PORT=5000

# Database
MONGODB_URI=mongodb://localhost:27017/expense-manager
# Hoáº·c sá»­ dá»¥ng MongoDB Atlas:
# MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/expense-manager

# JWT Secret
JWT_SECRET=your_super_secret_jwt_key_here_change_this

# Google Gemini AI API Key (Optional - for AI features)
GEMINI_API_KEY=your_gemini_api_key_here
```

#### Láº¥y API Keys:

**MongoDB Atlas** (Miá»…n phÃ­):
1. ÄÄƒng kÃ½ táº¡i [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. Táº¡o cluster má»›i (chá»n Free Tier)
3. Táº¡o database user
4. Láº¥y connection string
5. Xem hÆ°á»›ng dáº«n chi tiáº¿t: [MONGODB_SETUP.md](./MONGODB_SETUP.md)

**Google Gemini API** (Cho tÃ­nh nÄƒng AI):
1. Truy cáº­p [Google AI Studio](https://makersuite.google.com/app/apikey)
2. Táº¡o API key má»›i
3. Copy vÃ  paste vÃ o file `.env`
4. Xem hÆ°á»›ng dáº«n chi tiáº¿t: [GEMINI_API_KEY_GUIDE.md](./GEMINI_API_KEY_GUIDE.md)

### Database Initialization

Sau khi cáº¥u hÃ¬nh MongoDB, khá»Ÿi táº¡o database:

```bash
cd backend
npm run init-db-complete
```

Script nÃ y sáº½:
- Táº¡o cÃ¡c indexes cáº§n thiáº¿t
- Tá»‘i Æ°u hÃ³a performance
- Thiáº¿t láº­p cáº¥u trÃºc database

Xem chi tiáº¿t schema: [DATABASE_SCHEMA.md](./DATABASE_SCHEMA.md)

## ğŸ® Sá»­ Dá»¥ng

### Cháº¡y Development Mode

Báº¡n cáº§n má»Ÿ **2 terminal** Ä‘á»ƒ cháº¡y cáº£ frontend vÃ  backend:

#### Terminal 1 - Backend Server:

```bash
cd backend
npm run dev
```

Server sáº½ cháº¡y táº¡i: `http://localhost:5000`

#### Terminal 2 - Frontend:

```bash
# Tá»« thÆ° má»¥c gá»‘c (expense-management-app)
npm run dev
```

Frontend sáº½ cháº¡y táº¡i: `http://localhost:3000`

### Truy Cáº­p á»¨ng Dá»¥ng

1. Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: `http://localhost:3000`
2. ÄÄƒng kÃ½ tÃ i khoáº£n má»›i hoáº·c Ä‘Äƒng nháº­p
3. Báº¯t Ä‘áº§u quáº£n lÃ½ tÃ i chÃ­nh cá»§a báº¡n!

### TÃ i Khoáº£n Admin Máº·c Äá»‹nh

Náº¿u báº¡n cáº§n quyá»n admin, táº¡o tÃ i khoáº£n vÃ  sau Ä‘Ã³ update trá»±c tiáº¿p trong MongoDB:

```javascript
// Trong MongoDB Compass hoáº·c Shell
db.users.updateOne(
  { email: "your-email@example.com" },
  { $set: { role: "admin" } }
)
```

### Build cho Production

#### Frontend:

```bash
npm run build
npm start
```

#### Backend:

```bash
cd backend
npm start
```

## ğŸ“ Cáº¥u TrÃºc ThÆ° Má»¥c

```
expense-management-app/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # Authentication pages
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”œâ”€â”€ (authenticated)/          # Protected pages
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ transactions/
â”‚   â”‚   â”œâ”€â”€ budgets/
â”‚   â”‚   â”œâ”€â”€ goals/
â”‚   â”‚   â”œâ”€â”€ recurring/
â”‚   â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â””â”€â”€ users/               # Admin only
â”‚   â””â”€â”€ context/                 # React Context providers
â”‚
â”œâ”€â”€ components/                   # React Components
â”‚   â”œâ”€â”€ ui/                      # Shadcn UI components
â”‚   â”œâ”€â”€ dashboard/               # Dashboard components
â”‚   â”œâ”€â”€ transactions/            # Transaction components
â”‚   â”œâ”€â”€ budgets/                 # Budget components
â”‚   â”œâ”€â”€ goals/                   # Goal components
â”‚   â”œâ”€â”€ recurring/               # Recurring transaction components
â”‚   â”œâ”€â”€ reports/                 # Report components
â”‚   â”œâ”€â”€ ai/                      # AI components
â”‚   â””â”€â”€ layout/                  # Layout components
â”‚
â”œâ”€â”€ backend/                      # Express.js Backend
â”‚   â”œâ”€â”€ config/                  # Database config
â”‚   â”œâ”€â”€ middleware/              # Express middleware
â”‚   â”œâ”€â”€ models/                  # Mongoose models
â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”œâ”€â”€ Transaction.js
â”‚   â”‚   â”œâ”€â”€ Category.js
â”‚   â”‚   â”œâ”€â”€ Budget.js
â”‚   â”‚   â”œâ”€â”€ Goal.js
â”‚   â”‚   â”œâ”€â”€ RecurringTransaction.js
â”‚   â”‚   â”œâ”€â”€ Notification.js
â”‚   â”‚   â”œâ”€â”€ UserSettings.js
â”‚   â”‚   â””â”€â”€ Report.js
â”‚   â”œâ”€â”€ routes/                  # API routes
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”œâ”€â”€ transactions.js
â”‚   â”‚   â”œâ”€â”€ categories.js
â”‚   â”‚   â”œâ”€â”€ budgets.js
â”‚   â”‚   â”œâ”€â”€ goals.js
â”‚   â”‚   â”œâ”€â”€ recurring.js
â”‚   â”‚   â”œâ”€â”€ notifications.js
â”‚   â”‚   â”œâ”€â”€ reports.js
â”‚   â”‚   â”œâ”€â”€ settings.js
â”‚   â”‚   â”œâ”€â”€ ai.js
â”‚   â”‚   â””â”€â”€ users.js
â”‚   â”œâ”€â”€ services/                # Business logic
â”‚   â”‚   â””â”€â”€ geminiService.js    # AI service
â”‚   â”œâ”€â”€ jobs/                    # Scheduled jobs
â”‚   â”‚   â””â”€â”€ recurringJobs.js
â”‚   â”œâ”€â”€ scripts/                 # Database scripts
â”‚   â”‚   â””â”€â”€ init-db-complete.js
â”‚   â”œâ”€â”€ uploads/                 # User uploads
â”‚   â”œâ”€â”€ .env                     # Environment variables
â”‚   â”œâ”€â”€ server.js               # Entry point
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ lib/                         # Utilities
â”‚   â”œâ”€â”€ api.ts                  # API client
â”‚   â””â”€â”€ utils.ts                # Helper functions
â”‚
â”œâ”€â”€ hooks/                       # Custom React hooks
â”‚
â”œâ”€â”€ styles/                      # Global styles
â”‚
â”œâ”€â”€ public/                      # Static assets
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ next.config.mjs
â”‚
â””â”€â”€ TÃ i liá»‡u:
    â”œâ”€â”€ README.md                      # File nÃ y
    â”œâ”€â”€ DATABASE_SCHEMA.md             # Chi tiáº¿t database schema
    â”œâ”€â”€ AI_IMPLEMENTATION_GUIDE.md     # HÆ°á»›ng dáº«n implement AI
    â”œâ”€â”€ GEMINI_API_KEY_GUIDE.md        # HÆ°á»›ng dáº«n láº¥y Gemini API
    â””â”€â”€ POSTMAN_API_TESTING.md         # HÆ°á»›ng dáº«n test API
```

## ğŸ” Báº£o Máº­t

- âœ… Password Ä‘Æ°á»£c hash báº±ng bcryptjs
- âœ… Authentication sá»­ dá»¥ng JWT tokens
- âœ… Protected routes vá»›i middleware authentication
- âœ… Input validation vá»›i Zod
- âœ… CORS configuration
- âœ… Role-based access control (User/Admin)

## ğŸ› Troubleshooting

### Lá»—i káº¿t ná»‘i MongoDB

```bash
Error: connect ECONNREFUSED ::1:27017
```

**Giáº£i phÃ¡p:**
- Kiá»ƒm tra MongoDB Ä‘Ã£ cháº¡y: `mongod --version`
- Kiá»ƒm tra MONGODB_URI trong `.env`
- Náº¿u dÃ¹ng MongoDB Atlas, kiá»ƒm tra whitelist IP

### Lá»—i CORS

```bash
Access to XMLHttpRequest blocked by CORS policy
```

**Giáº£i phÃ¡p:**
- Kiá»ƒm tra backend Ä‘ang cháº¡y á»Ÿ port 5000
- Kiá»ƒm tra CORS configuration trong `backend/server.js`

### Lá»—i "Cannot find module"

```bash
Error: Cannot find module 'xyz'
```

**Giáº£i phÃ¡p:**
```bash
# XÃ³a node_modules vÃ  cÃ i láº¡i
rm -rf node_modules package-lock.json
npm install

# LÃ m tÆ°Æ¡ng tá»± cho backend
cd backend
rm -rf node_modules package-lock.json
npm install
```

### AI Features khÃ´ng hoáº¡t Ä‘á»™ng

**Giáº£i phÃ¡p:**
- Kiá»ƒm tra GEMINI_API_KEY trong `backend/.env`
- Verify API key táº¡i [Google AI Studio](https://makersuite.google.com/app/apikey)
- Xem logs trong terminal backend Ä‘á»ƒ debug

## ğŸ”„ API Endpoints

### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `GET /api/auth/me` - Láº¥y thÃ´ng tin user hiá»‡n táº¡i

### Transactions
- `GET /api/transactions` - Láº¥y danh sÃ¡ch giao dá»‹ch
- `POST /api/transactions` - Táº¡o giao dá»‹ch má»›i
- `PUT /api/transactions/:id` - Cáº­p nháº­t giao dá»‹ch
- `DELETE /api/transactions/:id` - XÃ³a giao dá»‹ch

### Budgets, Goals, Reports, AI...
Xem chi tiáº¿t táº¥t cáº£ API endpoints trong [POSTMAN_API_TESTING.md](./POSTMAN_API_TESTING.md)

## ğŸ¤ ÄÃ³ng GÃ³p

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! Äá»ƒ contribute:

1. Fork repository
2. Táº¡o branch má»›i (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push lÃªn branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u.

## ğŸ“ LiÃªn Há»‡

Náº¿u cÃ³ báº¥t ká»³ cÃ¢u há»i nÃ o, vui lÃ²ng táº¡o issue trÃªn GitHub.

---

**ChÃºc báº¡n quáº£n lÃ½ tÃ i chÃ­nh hiá»‡u quáº£! ğŸ’°âœ¨**
